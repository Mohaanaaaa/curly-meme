<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Registration Success</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body class="bg-slate-900 text-white min-h-screen flex items-center justify-center p-6">
    <div class="max-w-md w-full bg-slate-800 p-10 rounded-[40px] border border-slate-700 text-center shadow-2xl">
        <div class="w-20 h-20 bg-green-500/20 text-green-500 rounded-full flex items-center justify-center mx-auto mb-6">
            <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
        </div>
        
        <h1 class="text-2xl font-black mb-2">REGISTRATION COMPLETE!</h1>
        <p class="text-slate-400 font-bold text-sm mb-8 uppercase tracking-widest">{{ shop_name }}</p>

        <div class="bg-white p-4 rounded-3xl inline-block mb-6">
            <div id="qrcode"></div> </div>

        <div class="bg-slate-900 p-4 rounded-2xl mb-8 border border-slate-700">
            <p class="text-[10px] text-slate-500 font-black uppercase mb-1">Your 13-Digit Station ID</p>
            <p class="text-xl font-mono font-black text-blue-400 tracking-tighter">{{ shop_id }}</p>
        </div>

        <div class="space-y-4">
            <button onclick="downloadQR()" class="w-full bg-blue-600 hover:bg-blue-500 py-4 rounded-2xl font-black transition-all">
                DOWNLOAD QR CODE
            </button>
            <a href="/shop/login" class="block w-full bg-slate-700 hover:bg-slate-600 py-4 rounded-2xl font-black transition-all">
                GO TO LOGIN
            </a>
        </div>
    </div>

    <script>
        // Generate QR for the direct drop link
        const shopId = "{{ shop_id }}";
        const uploadUrl = window.location.origin + "/drop/" + shopId;
        
        new QRCode(document.getElementById("qrcode"), {
            text: uploadUrl,
            width: 200,
            height: 200,
            colorDark : "#0f172a",
            colorLight : "#ffffff"
        });

        function downloadQR() {
            const canvas = document.querySelector('#qrcode canvas');
            const link = document.createElement('a');
            link.download = `PrintStation_${shopId}.png`;
            link.href = canvas.toDataURL();
            link.click();
        }
    </script>
</body>
</html>